(window["webpackJsonpbrastlewark-2019"]=window["webpackJsonpbrastlewark-2019"]||[]).push([[0],{103:function(e,t,a){e.exports=a(183)},108:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),o=a(17),s=a(14),i=(a(108),a(12)),u=a(74),m=a(50),d={gnomes:[],filter:[],loading:!1,error:{status:!1,message:""}},f=Object(n.createContext)(d),p=(a(171),function(){var e=Object(n.useState)({searchInput:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(f),o=Object(i.a)(l,2),s=o[0],u=o[1];r.a.useEffect(function(){return function(){return u({type:"UPLOAD_FILTER",payload:s.gnomes})}},[]);var d=function(e){var t=e.length>0?s.gnomes.filter(function(t){return t.name.trim().toLowerCase().includes(e.trim().toLowerCase())}):s.gnomes;u({type:"UPLOAD_FILTER",payload:t})};return r.a.createElement("header",null,r.a.createElement("h1",null,"Brastlewark"),r.a.createElement("h5",null,"Brastlewark is an almost exclusively gnomish city in eastern Cheliax, located on the western edge of the Aspodell Mountains, at the head of the Brastle River."),r.a.createElement("input",{placeholder:"Search..",className:"header-input",name:"searchInput",type:"text",value:a.searchInput,onChange:function(e){d(e.target.value),c(Object(m.a)({},e.target.name,e.target.value))}}))}),g=(a(172),function(e){var t=e.gnome,a=e.style;return r.a.createElement("div",{className:"card",style:a},r.a.createElement("div",{className:"card-wrap"},r.a.createElement("div",{className:"card-image-wrap"},r.a.createElement("img",{src:t.thumbnail,alt:t.name})),r.a.createElement("div",{className:"card-info"},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,t.age," years old"),r.a.createElement("p",null,t.weight.toFixed(1),"kg"),r.a.createElement(o.b,{to:{pathname:"/gnome/".concat(t.id),gnome:t}},"Details"))))}),E=(a(175),function(){var e=Object(n.useContext)(f),t=Object(i.a)(e,1)[0];if(t.error.status)return r.a.createElement(s.a,{to:"/NoMatch"});if(t.loading||0===Object.entries(t.gnomes).length)return r.a.createElement("p",null,"Loading...");var a=function(e){var a=e.index,n=e.key,c=e.style;return r.a.createElement(g,{style:c,gnome:t.filter[a],key:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement("div",{className:"list-wrap"},r.a.createElement(u.a,null,function(e){return r.a.createElement(u.b,{width:e.width,height:e.height,rowHeight:450,rowRenderer:a,rowCount:t.filter.length,overscanRowCount:10})})))}),h=(a(176),function(e){var t=Object(n.useContext)(f),a=Object(i.a)(t,1)[0],c=e.gnome;return r.a.createElement("div",{className:"extended-card"},r.a.createElement("div",{className:"extended-card-wrap"},r.a.createElement("div",{className:"extended-card-image-wrap"},r.a.createElement("img",{src:c.thumbnail,alt:c.name})),r.a.createElement("div",{className:"extended-card-info"},r.a.createElement("h2",null,c.name),r.a.createElement("p",null,c.age," years old"),r.a.createElement("p",null,c.weight.toFixed(1),"kg"),r.a.createElement("p",null,c.height.toFixed(1),"cm"),r.a.createElement("p",null,"Hair color: ",c.hair_color),c.friends.length>0&&r.a.createElement("p",null,"Friends: ",c.friends.map(function(e,t){var n,l=(n=e,a.gnomes.filter(function(e){return e.name.trim().toLowerCase().includes(n.trim().toLowerCase().replace(",",""))})[0]);return r.a.createElement(o.b,{key:t,to:{pathname:"/gnome/".concat(l.id),gnome:l}},"".concat(e).concat(c.friends.length>t+1?", ":""))})),c.professions.length>0&&r.a.createElement("p",null,"Profession: ",c.professions.map(function(e,t){return"".concat(e).concat(c.professions.length>t+1?", ":"")})))))}),b=(a(177),a(29)),O=a(51),v=a(52);b.b.add(v.a);var w=function(e){var t=void 0!==e.location.gnome?e.location.gnome:void 0;return void 0===t?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"gnome-detail"},r.a.createElement("div",{className:"gnome-detail-back"},r.a.createElement(o.b,{to:"/"},r.a.createElement(O.a,{icon:"angle-left"})," Go back")),r.a.createElement(h,{gnome:t}))};a(181);b.b.add(v.a);var j=function(){return r.a.createElement("div",{className:"nomatch-wrap"},r.a.createElement(o.b,{className:"nomatch-link",to:"/"},r.a.createElement(O.a,{icon:"angle-left"})," Go back"),r.a.createElement("h1",{className:"nomatch-h1"},"Something went wrong"))};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=function(e,t){var a=t.type,n=t.payload;switch(a){case"UPLOAD_GNOMES":return x({},e,{gnomes:n,filter:n});case"UPLOAD_ERRORS":return x({},e,{error:x({},n)});case"UPLOAD_FILTER":return x({},e,{filter:n});case"UPLOAD_LOADING":return x({},e,{loading:n});default:return e}},P=a(73),k=a.n(P),L=a(102),D=function(e){var t=Object(n.useReducer)(N,d),a=Object(i.a)(t,2),c=a[0],l=a[1],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.useState)({}),r=Object(i.a)(a,2),c=r[0],l=r[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)({status:!1,message:""}),f=Object(i.a)(d,2),p=f[0],g=f[1];return Object(n.useEffect)(function(){Object(L.a)(k.a.mark(function a(){var n,r;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m(!0),a.prev=1,a.next=4,fetch(e,t);case 4:return n=a.sent,a.next=7,n.json();case 7:r=a.sent,l(r),m(!1),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),g({status:!0,message:a.t0.message}),m(!1);case 16:case"end":return a.stop()}},a,null,[[1,12]])}))()},[]),[c,u,p]}("https://raw.githubusercontent.com/rrafols/mobile_test/master/data.json"),s=Object(i.a)(o,3),u=s[0],m=s[1],p=s[2];return Object(n.useEffect)(function(){0!==Object.entries(u).length&&l({type:"UPLOAD_GNOMES",payload:u.Brastlewark})},[u]),Object(n.useEffect)(function(){l({type:"UPLOAD_LOADING",payload:m})},[m]),Object(n.useEffect)(function(){l({type:"UPLOAD_ERRORS",payload:p})},[p]),r.a.createElement(f.Provider,{value:[c,l]},e.children)},C=Object(n.createContext)({isError:!1,message:""}),R=function(e){return r.a.createElement(C.Provider,{value:"errorcontext"},e.children)};l.a.render(r.a.createElement(function(e){return r.a.createElement(D,null,r.a.createElement(R,null,e.children))},null,r.a.createElement(function(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:E}),r.a.createElement(s.b,{exact:!0,path:"/gnome/:id",component:w}),r.a.createElement(s.b,{exact:!0,path:"*",component:j})))},null)),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.b88fbdb7.chunk.js.map